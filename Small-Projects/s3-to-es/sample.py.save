Last login: Thu Jul  9 23:22:49 on ttys000
shishop@3c22fb20c6c3:~|⇒  su root
Password:
su: Sorry
shishop@3c22fb20c6c3:~|⇒  sudo su root
Password:
@3c22fb20c6c3 ➜ shishop  cd ..                                          
@3c22fb20c6c3 ➜ /Users  l 
.localized  Shared/  admin/  shishop/  tokenadmin/
@3c22fb20c6c3 ➜ /Users  cd shishop
@3c22fb20c6c3 ➜ shishop  pwd          
/Users/shishop
@3c22fb20c6c3 ➜ shishop  which user  
user not found
@3c22fb20c6c3 ➜ shishop  whoami    
root
@3c22fb20c6c3 ➜ shishop  szrc         
@3c22fb20c6c3 ➜ shishop  l 
 .CFUserTextEncoding*		  .zcompdump-3c22fb20c6c3-5.7.1
 .DS_Store*			  .zsh_history*
 .Trash/			  .zshrc
 .android/			  .zshrc.pre-oh-my-zsh*
 .anyconnect*			 'Amazon WorkDocs Drive'/
 .aws/				  AmazonWorkDocsCompanion/
 .bash_profile			  Applications/
 .bundle/			 'Chrome Passwords.csv'
 .cisco/			  Color.terminal
 .config/			  Desktop/
 .cups/				  Documents/
 .eclipse/			  Downloads/
 .gem/				  Library/
 .iterm2/			  Movies/
 .iterm2_shell_integration.zsh*   Music/
 .local/			  Pictures/
 .m2/				  Postman/
 .matplotlib/			  Public/
 .mysql_history*		  PycharmProjects/
 .oh-my-zsh/			 'WorkDocs Drive'/
 .oracle_jre_usage/		  _.local/
 .pip/				  apache-maven-3.6.3/
 .profile*			  fonts/
 .pyenv/			  get-pip.py*
 .python_history		  key.pem*
 .ssh/				  nep-s3-loader.rtf*
 .vim/				  sample.py
 .viminfo*			  zsh-syntax-highlighting/
 .wget-hsts
@3c22fb20c6c3 ➜ shishop  source .zshrc
root@3c22fb20c6c3:/Users/shishop|⇒  szrc         
root@3c22fb20c6c3:/Users/shishop|⇒  pip --version
zsh: /usr/local/bin/pip: bad interpreter: /Library/Developer/CommandLineTools/usr/bin/python3: no such file or directory
root@3c22fb20c6c3:/Users/shishop|⇒  python get-pip.py 
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting pip
  Downloading pip-20.1.1-py2.py3-none-any.whl (1.5 MB)
     |████████████████████████████████| 1.5 MB 1.1 MB/s 
Installing collected packages: pip
Successfully installed pip-20.1.1
root@3c22fb20c6c3:/Users/shishop|⇒  python --version 
Python 2.7.16
root@3c22fb20c6c3:/Users/shishop|⇒  bri install pyenv
Error: Running Homebrew as root is extremely dangerous and no longer supported.
As Homebrew does not drop privileges on installation you would be giving all
build scripts full access to your system.
root@3c22fb20c6c3:/Users/shishop|⇒  pip install pyenv   
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting pyenv
  Downloading pyenv-0.0.1.tar.gz (1.4 kB)
Building wheels for collected packages: pyenv
  Building wheel for pyenv (setup.py) ... error
  ERROR: Command errored out with exit status 1:
   command: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"'; __file__='"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' bdist_wheel -d /private/tmp/pip-wheel-qqqJGz
       cwd: /private/tmp/pip-install-wMXKIl/pyenv/
  Complete output (12 lines):
  running bdist_wheel
  running build
  installing to build/bdist.macosx-10.15-x86_64/wheel
  running install
  ############################ NOTE ############################
  We are sorry, but this package is not installable with pip.
  
  Please read the installation instructions at:
  
  https://github.com/pyenv/pyenv#installation
  ##############################################################
  
  ----------------------------------------
  ERROR: Failed building wheel for pyenv
  Running setup.py clean for pyenv
Failed to build pyenv
Installing collected packages: pyenv
    Running setup.py install for pyenv ... error
    ERROR: Command errored out with exit status 1:
     command: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"'; __file__='"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' install --record /private/tmp/pip-record-dXDXdE/install-record.txt --single-version-externally-managed --compile --install-headers /System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyenv
         cwd: /private/tmp/pip-install-wMXKIl/pyenv/
    Complete output (9 lines):
    running install
    ############################ NOTE ############################
    We are sorry, but this package is not installable with pip.
    
    Please read the installation instructions at:
    
    https://github.com/pyenv/pyenv#installation
    ##############################################################
    
    ----------------------------------------
ERROR: Command errored out with exit status 1: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"'; __file__='"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' install --record /private/tmp/pip-record-dXDXdE/install-record.txt --single-version-externally-managed --compile --install-headers /System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyenv Check the logs for full command output.
root@3c22fb20c6c3:/Users/shishop|⇒  pip install boto3
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting boto3
  Downloading boto3-1.14.20-py2.py3-none-any.whl (128 kB)
     |████████████████████████████████| 128 kB 1.4 MB/s 
Collecting jmespath<1.0.0,>=0.7.1
  Downloading jmespath-0.10.0-py2.py3-none-any.whl (24 kB)
Collecting botocore<1.18.0,>=1.17.20
  Downloading botocore-1.17.20-py2.py3-none-any.whl (6.3 MB)
     |████████████████████████████████| 6.3 MB 629 kB/s 
Collecting s3transfer<0.4.0,>=0.3.0
  Downloading s3transfer-0.3.3-py2.py3-none-any.whl (69 kB)
     |████████████████████████████████| 69 kB 2.3 MB/s 
Collecting docutils<0.16,>=0.10
  Downloading docutils-0.15.2-py2-none-any.whl (548 kB)
     |████████████████████████████████| 548 kB 3.4 MB/s 
Collecting python-dateutil<3.0.0,>=2.1
  Downloading python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)
     |████████████████████████████████| 227 kB 1.4 MB/s 
Requirement already satisfied: urllib3<1.26,>=1.20; python_version != "3.4" in /Library/Python/2.7/site-packages (from botocore<1.18.0,>=1.17.20->boto3) (1.25.9)
Collecting futures<4.0.0,>=2.2.0; python_version == "2.7"
  Downloading futures-3.3.0-py2-none-any.whl (16 kB)
Requirement already satisfied: six>=1.5 in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python (from python-dateutil<3.0.0,>=2.1->botocore<1.18.0,>=1.17.20->boto3) (1.12.0)
ERROR: matplotlib 1.3.1 requires nose, which is not installed.
ERROR: matplotlib 1.3.1 requires tornado, which is not installed.
Installing collected packages: jmespath, docutils, python-dateutil, botocore, futures, s3transfer, boto3
  Attempting uninstall: python-dateutil
    Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil-1.5:
ERROR: Could not install packages due to an EnvironmentError: [('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.pyc', '/private/tmp/pip-uninstall-_aYJFe/parser.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/parser.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.py', '/private/tmp/pip-uninstall-_aYJFe/relativedelta.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/relativedelta.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/zoneinfo-2010g.tar.gz', '/private/tmp/pip-uninstall-_aYJFe/zoneinfo/zoneinfo-2010g.tar.gz', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/zoneinfo/zoneinfo-2010g.tar.gz'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.py', '/private/tmp/pip-uninstall-_aYJFe/zoneinfo/__init__.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/zoneinfo/__init__.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.pyc', '/private/tmp/pip-uninstall-_aYJFe/zoneinfo/__init__.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/zoneinfo/__init__.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo', '/private/tmp/pip-uninstall-_aYJFe/zoneinfo', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/zoneinfo'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.py', '/private/tmp/pip-uninstall-_aYJFe/tz.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/tz.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.pyc', '/private/tmp/pip-uninstall-_aYJFe/relativedelta.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/relativedelta.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.pyc', '/private/tmp/pip-uninstall-_aYJFe/rrule.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/rrule.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.py', '/private/tmp/pip-uninstall-_aYJFe/__init__.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/__init__.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.py', '/private/tmp/pip-uninstall-_aYJFe/parser.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/parser.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.py', '/private/tmp/pip-uninstall-_aYJFe/tzwin.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/tzwin.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.py', '/private/tmp/pip-uninstall-_aYJFe/rrule.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/rrule.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.pyc', '/private/tmp/pip-uninstall-_aYJFe/__init__.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/__init__.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.py', '/private/tmp/pip-uninstall-_aYJFe/easter.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/easter.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.pyc', '/private/tmp/pip-uninstall-_aYJFe/easter.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/easter.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.pyc', '/private/tmp/pip-uninstall-_aYJFe/tz.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/tz.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.pyc', '/private/tmp/pip-uninstall-_aYJFe/tzwin.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/tzwin.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil', '/private/tmp/pip-uninstall-_aYJFe', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe'")]

root@3c22fb20c6c3:/Users/shishop|⇒  pip install nose 
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting nose
  Downloading nose-1.3.7-py2-none-any.whl (154 kB)
     |████████████████████████████████| 154 kB 1.0 MB/s 
ERROR: matplotlib 1.3.1 requires tornado, which is not installed.
Installing collected packages: nose
ERROR: Could not install packages due to an EnvironmentError: [Errno 1] Operation not permitted: '/System/Library/Frameworks/Python.framework/Versions/2.7/man'

root@3c22fb20c6c3:/Users/shishop|⇒  pip install tornado
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting tornado
  Downloading tornado-5.1.1.tar.gz (516 kB)
     |████████████████████████████████| 516 kB 1.3 MB/s 
Collecting futures
  Using cached futures-3.3.0-py2-none-any.whl (16 kB)
Collecting singledispatch
  Downloading singledispatch-3.4.0.3-py2.py3-none-any.whl (12 kB)
Collecting backports_abc>=0.4
  Downloading backports_abc-0.5-py2.py3-none-any.whl (5.2 kB)
Requirement already satisfied: six in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python (from singledispatch->tornado) (1.12.0)
Building wheels for collected packages: tornado
  Building wheel for tornado (setup.py) ... done
  Created wheel for tornado: filename=tornado-5.1.1-cp27-cp27m-macosx_10_15_x86_64.whl size=451329 sha256=49d0296b27e42bfc0febc1290b85ce8e3876aba452d7114d33dace500000113a
  Stored in directory: /private/var/root/Library/Caches/pip/wheels/d8/83/af/e0dc6afbf3a2c51af8d6e3f9fbe790d0c581c2de05bc5d50f5
Successfully built tornado
Installing collected packages: futures, singledispatch, backports-abc, tornado
Successfully installed backports-abc-0.5 futures-3.3.0 singledispatch-3.4.0.3 tornado-5.1.1
root@3c22fb20c6c3:/Users/shishop|⇒  pip install boto3  
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting boto3
  Using cached boto3-1.14.20-py2.py3-none-any.whl (128 kB)
Requirement already satisfied: jmespath<1.0.0,>=0.7.1 in /Library/Python/2.7/site-packages (from boto3) (0.10.0)
Collecting botocore<1.18.0,>=1.17.20
  Using cached botocore-1.17.20-py2.py3-none-any.whl (6.3 MB)
Collecting s3transfer<0.4.0,>=0.3.0
  Using cached s3transfer-0.3.3-py2.py3-none-any.whl (69 kB)
Requirement already satisfied: docutils<0.16,>=0.10 in /Library/Python/2.7/site-packages (from botocore<1.18.0,>=1.17.20->boto3) (0.15.2)
Collecting python-dateutil<3.0.0,>=2.1
  Using cached python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)
Requirement already satisfied: urllib3<1.26,>=1.20; python_version != "3.4" in /Library/Python/2.7/site-packages (from botocore<1.18.0,>=1.17.20->boto3) (1.25.9)
Requirement already satisfied: futures<4.0.0,>=2.2.0; python_version == "2.7" in /Library/Python/2.7/site-packages (from s3transfer<0.4.0,>=0.3.0->boto3) (3.3.0)
Requirement already satisfied: six>=1.5 in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python (from python-dateutil<3.0.0,>=2.1->botocore<1.18.0,>=1.17.20->boto3) (1.12.0)
Installing collected packages: python-dateutil, botocore, s3transfer, boto3
  Attempting uninstall: python-dateutil
    Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil-1.5:
ERROR: Could not install packages due to an EnvironmentError: [('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.pyc', '/private/tmp/pip-uninstall-RJMBJa/parser.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/parser.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.py', '/private/tmp/pip-uninstall-RJMBJa/relativedelta.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/relativedelta.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/zoneinfo-2010g.tar.gz', '/private/tmp/pip-uninstall-RJMBJa/zoneinfo/zoneinfo-2010g.tar.gz', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/zoneinfo/zoneinfo-2010g.tar.gz'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.py', '/private/tmp/pip-uninstall-RJMBJa/zoneinfo/__init__.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/zoneinfo/__init__.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.pyc', '/private/tmp/pip-uninstall-RJMBJa/zoneinfo/__init__.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/zoneinfo/__init__.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo', '/private/tmp/pip-uninstall-RJMBJa/zoneinfo', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/zoneinfo'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.py', '/private/tmp/pip-uninstall-RJMBJa/tz.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/tz.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.pyc', '/private/tmp/pip-uninstall-RJMBJa/relativedelta.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/relativedelta.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.pyc', '/private/tmp/pip-uninstall-RJMBJa/rrule.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/rrule.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.py', '/private/tmp/pip-uninstall-RJMBJa/__init__.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/__init__.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.py', '/private/tmp/pip-uninstall-RJMBJa/parser.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/parser.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.py', '/private/tmp/pip-uninstall-RJMBJa/tzwin.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/tzwin.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.py', '/private/tmp/pip-uninstall-RJMBJa/rrule.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/rrule.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.pyc', '/private/tmp/pip-uninstall-RJMBJa/__init__.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/__init__.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.py', '/private/tmp/pip-uninstall-RJMBJa/easter.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/easter.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.pyc', '/private/tmp/pip-uninstall-RJMBJa/easter.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/easter.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.pyc', '/private/tmp/pip-uninstall-RJMBJa/tz.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/tz.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.pyc', '/private/tmp/pip-uninstall-RJMBJa/tzwin.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa/tzwin.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil', '/private/tmp/pip-uninstall-RJMBJa', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-RJMBJa'")]

root@3c22fb20c6c3:/Users/shishop|⇒  python --version 
Python 2.7.16
root@3c22fb20c6c3:/Users/shishop|⇒  python          

WARNING: Python 2.7 is not recommended. 
This version is included in macOS for compatibility with legacy software. 
Future versions of macOS will not include Python 2.7. 
Instead, it is recommended that you transition to using 'python3' from within Terminal.

Python 2.7.16 (default, Apr 17 2020, 18:29:03) 
[GCC 4.2.1 Compatible Apple LLVM 11.0.3 (clang-1103.0.29.20) (-macos10.15-objc- on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> import boto3
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ImportError: No module named boto3
>>> ^D
root@3c22fb20c6c3:/Users/shishop|⇒  sudo brew install pyenv
Error: Running Homebrew as root is extremely dangerous and no longer supported.
As Homebrew does not drop privileges on installation you would be giving all
build scripts full access to your system.
root@3c22fb20c6c3:/Users/shishop|⇒  pip install pyenv
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting pyenv
  Using cached pyenv-0.0.1.tar.gz (1.4 kB)
Building wheels for collected packages: pyenv
  Building wheel for pyenv (setup.py) ... error
  ERROR: Command errored out with exit status 1:
   command: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/private/tmp/pip-install-ITOljn/pyenv/setup.py'"'"'; __file__='"'"'/private/tmp/pip-install-ITOljn/pyenv/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' bdist_wheel -d /private/tmp/pip-wheel-SI8QUn
       cwd: /private/tmp/pip-install-ITOljn/pyenv/
  Complete output (12 lines):
  running bdist_wheel
  running build
  installing to build/bdist.macosx-10.15-x86_64/wheel
  running install
  ############################ NOTE ############################
  We are sorry, but this package is not installable with pip.
  
  Please read the installation instructions at:
  
  https://github.com/pyenv/pyenv#installation
  ##############################################################
  
  ----------------------------------------
  ERROR: Failed building wheel for pyenv
  Running setup.py clean for pyenv
Failed to build pyenv
Installing collected packages: pyenv
    Running setup.py install for pyenv ... error
    ERROR: Command errored out with exit status 1:
     command: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/private/tmp/pip-install-ITOljn/pyenv/setup.py'"'"'; __file__='"'"'/private/tmp/pip-install-ITOljn/pyenv/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' install --record /private/tmp/pip-record-VEynKe/install-record.txt --single-version-externally-managed --compile --install-headers /System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyenv
         cwd: /private/tmp/pip-install-ITOljn/pyenv/
    Complete output (9 lines):
    running install
    ############################ NOTE ############################
    We are sorry, but this package is not installable with pip.
    
    Please read the installation instructions at:
    
    https://github.com/pyenv/pyenv#installation
    ##############################################################
    
    ----------------------------------------
ERROR: Command errored out with exit status 1: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/private/tmp/pip-install-ITOljn/pyenv/setup.py'"'"'; __file__='"'"'/private/tmp/pip-install-ITOljn/pyenv/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' install --record /private/tmp/pip-record-VEynKe/install-record.txt --single-version-externally-managed --compile --install-headers /System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyenv Check the logs for full command output.
root@3c22fb20c6c3:/Users/shishop|⇒  pyenv --versions 
pyenv: no such command `--versions'
root@3c22fb20c6c3:/Users/shishop|⇒  pyenv -versions 
pyenv: no such command `-versions'
root@3c22fb20c6c3:/Users/shishop|⇒  pyenv versions 
* system (set by /var/root/.pyenv/version)
root@3c22fb20c6c3:/Users/shishop|⇒  pyenv global    
system
root@3c22fb20c6c3:/Users/shishop|⇒  sudo shishop           
sudo: shishop: command not found
root@3c22fb20c6c3:/Users/shishop|⇒  su shishop  
shishop@3c22fb20c6c3:~|⇒  pyenv versions 
  system
* 3.8.3 (set by /Users/shishop/.pyenv/version)
shishop@3c22fb20c6c3:~|⇒  su                
Password:
su: Sorry
shishop@3c22fb20c6c3:~|⇒  su root
Password:
su: Sorry
shishop@3c22fb20c6c3:~|⇒  sudo su root
Password:
@3c22fb20c6c3 ➜ shishop  szrc      
@3c22fb20c6c3 ➜ shishop  source .zshrc
root@3c22fb20c6c3:/Users/shishop|⇒  pyenv global 3.8.3
pyenv: version `3.8.3' not installed
root@3c22fb20c6c3:/Users/shishop|⇒  pip --version     
pip 20.1.1 from /Library/Python/2.7/site-packages/pip (python 2.7)
root@3c22fb20c6c3:/Users/shishop|⇒  pip install python-3.8.3
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
ERROR: Could not find a version that satisfies the requirement python-3.8.3 (from versions: none)
ERROR: No matching distribution found for python-3.8.3
root@3c22fb20c6c3:/Users/shishop|⇒  pyenv                   
pyenv 1.2.19
Usage: pyenv <command> [<args>]

Some useful pyenv commands are:
   --version   Display the version of pyenv
   commands    List all available pyenv commands
   exec        Run an executable with the selected Python version
   global      Set or show the global Python version(s)
   help        Display help for a command
   hooks       List hook scripts for a given pyenv command
   init        Configure the shell environment for pyenv
   install     Install a Python version using python-build
   local       Set or show the local application-specific Python version(s)
   prefix      Display prefix for a Python version
   rehash      Rehash pyenv shims (run this after installing executables)
   root        Display the root directory where versions and shims are kept
   shell       Set or show the shell-specific Python version
   shims       List existing pyenv shims
   uninstall   Uninstall a specific Python version
   version     Show the current Python version(s) and its origin
   version-file   Detect the file that sets the current pyenv version
   version-name   Show the current Python version
   version-origin   Explain how the current Python version is set
   versions    List all Python versions available to pyenv
   whence      List all Python versions that contain the given executable
   which       Display the full path to an executable

See `pyenv help <command>' for information on a specific command.
For full documentation, see: https://github.com/pyenv/pyenv#readme
root@3c22fb20c6c3:/Users/shishop|⇒  pyenv install 3.8.3
python-build: use openssl@1.1 from homebrew
python-build: use readline from homebrew
Downloading Python-3.8.3.tar.xz...
-> https://www.python.org/ftp/python/3.8.3/Python-3.8.3.tar.xz
Installing Python-3.8.3...
python-build: use readline from homebrew
python-build: use zlib from xcode sdk
Installed Python-3.8.3 to /var/root/.pyenv/versions/3.8.3

root@3c22fb20c6c3:/Users/shishop|⇒  pyenv global 3.8.3 
root@3c22fb20c6c3:/Users/shishop|⇒  python            

WARNING: Python 2.7 is not recommended. 
This version is included in macOS for compatibility with legacy software. 
Future versions of macOS will not include Python 2.7. 
Instead, it is recommended that you transition to using 'python3' from within Terminal.

Python 2.7.16 (default, Apr 17 2020, 18:29:03) 
[GCC 4.2.1 Compatible Apple LLVM 11.0.3 (clang-1103.0.29.20) (-macos10.15-objc- on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> ^D
root@3c22fb20c6c3:/Users/shishop|⇒  python --version
Python 2.7.16
root@3c22fb20c6c3:/Users/shishop|⇒  pyenv versions    
  system
* 3.8.3 (set by /var/root/.pyenv/version)
root@3c22fb20c6c3:/Users/shishop|⇒  pyenv 3.8.3   
pyenv: no such command `3.8.3'
root@3c22fb20c6c3:/Users/shishop|⇒  python3 --version
Python 3.8.3
root@3c22fb20c6c3:/Users/shishop|⇒  pip install -U pip3     
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
ERROR: Could not find a version that satisfies the requirement pip3 (from versions: none)
ERROR: No matching distribution found for pip3
root@3c22fb20c6c3:/Users/shishop|⇒  find -name sample.py
find: illegal option -- n
usage: find [-H | -L | -P] [-EXdsx] [-f path] path ... [expression]
       find [-H | -L | -P] [-EXdsx] -f path [path ...] [expression]
root@3c22fb20c6c3:/Users/shishop|⇒  l                   
 .CFUserTextEncoding*		  .zcompdump-3c22fb20c6c3-5.7.1
 .DS_Store*			  .zsh_history*
 .Trash/			  .zshrc
 .android/			  .zshrc.pre-oh-my-zsh*
 .anyconnect*			 'Amazon WorkDocs Drive'/
 .aws/				  AmazonWorkDocsCompanion/
 .bash_profile			  Applications/
 .bundle/			 'Chrome Passwords.csv'
 .cisco/			  Color.terminal
 .config/			  Desktop/
 .cups/				  Documents/
 .eclipse/			  Downloads/
 .gem/				  Library/
 .iterm2/			  Movies/
 .iterm2_shell_integration.zsh*   Music/
 .local/			  Pictures/
 .m2/				  Postman/
 .matplotlib/			  Public/
 .mysql_history*		  PycharmProjects/
 .oh-my-zsh/			 'WorkDocs Drive'/
 .oracle_jre_usage/		  _.local/
 .pip/				  apache-maven-3.6.3/
 .profile*			  fonts/
 .pyenv/			  get-pip.py*
 .python_history		  key.pem*
 .ssh/				  nep-s3-loader.rtf*
 .vim/				  sample.py
 .viminfo*			  zsh-syntax-highlighting/
 .wget-hsts
root@3c22fb20c6c3:/Users/shishop|⇒  python3 sample.py  
Traceback (most recent call last):
  File "sample.py", line 1, in <module>
    import boto3
ModuleNotFoundError: No module named 'boto3'
root@3c22fb20c6c3:/Users/shishop|⇒  boto3            
zsh: command not found: boto3
root@3c22fb20c6c3:/Users/shishop|⇒  pip install boto3  
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting boto3
  Using cached boto3-1.14.20-py2.py3-none-any.whl (128 kB)
Requirement already satisfied: jmespath<1.0.0,>=0.7.1 in /Library/Python/2.7/site-packages (from boto3) (0.10.0)
Collecting botocore<1.18.0,>=1.17.20
  Using cached botocore-1.17.20-py2.py3-none-any.whl (6.3 MB)
Collecting s3transfer<0.4.0,>=0.3.0
  Using cached s3transfer-0.3.3-py2.py3-none-any.whl (69 kB)
Requirement already satisfied: docutils<0.16,>=0.10 in /Library/Python/2.7/site-packages (from botocore<1.18.0,>=1.17.20->boto3) (0.15.2)
Collecting python-dateutil<3.0.0,>=2.1
  Using cached python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)
Requirement already satisfied: urllib3<1.26,>=1.20; python_version != "3.4" in /Library/Python/2.7/site-packages (from botocore<1.18.0,>=1.17.20->boto3) (1.25.9)
Requirement already satisfied: futures<4.0.0,>=2.2.0; python_version == "2.7" in /Library/Python/2.7/site-packages (from s3transfer<0.4.0,>=0.3.0->boto3) (3.3.0)
Requirement already satisfied: six>=1.5 in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python (from python-dateutil<3.0.0,>=2.1->botocore<1.18.0,>=1.17.20->boto3) (1.12.0)
Installing collected packages: python-dateutil, botocore, s3transfer, boto3
  Attempting uninstall: python-dateutil
    Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil-1.5:
ERROR: Could not install packages due to an EnvironmentError: [('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.pyc', '/private/tmp/pip-uninstall-p72eWH/parser.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/parser.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.py', '/private/tmp/pip-uninstall-p72eWH/relativedelta.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/relativedelta.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/zoneinfo-2010g.tar.gz', '/private/tmp/pip-uninstall-p72eWH/zoneinfo/zoneinfo-2010g.tar.gz', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/zoneinfo/zoneinfo-2010g.tar.gz'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.py', '/private/tmp/pip-uninstall-p72eWH/zoneinfo/__init__.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/zoneinfo/__init__.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.pyc', '/private/tmp/pip-uninstall-p72eWH/zoneinfo/__init__.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/zoneinfo/__init__.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo', '/private/tmp/pip-uninstall-p72eWH/zoneinfo', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/zoneinfo'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.py', '/private/tmp/pip-uninstall-p72eWH/tz.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/tz.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.pyc', '/private/tmp/pip-uninstall-p72eWH/relativedelta.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/relativedelta.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.pyc', '/private/tmp/pip-uninstall-p72eWH/rrule.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/rrule.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.py', '/private/tmp/pip-uninstall-p72eWH/__init__.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/__init__.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.py', '/private/tmp/pip-uninstall-p72eWH/parser.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/parser.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.py', '/private/tmp/pip-uninstall-p72eWH/tzwin.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/tzwin.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.py', '/private/tmp/pip-uninstall-p72eWH/rrule.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/rrule.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.pyc', '/private/tmp/pip-uninstall-p72eWH/__init__.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/__init__.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.py', '/private/tmp/pip-uninstall-p72eWH/easter.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/easter.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.pyc', '/private/tmp/pip-uninstall-p72eWH/easter.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/easter.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.pyc', '/private/tmp/pip-uninstall-p72eWH/tz.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/tz.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.pyc', '/private/tmp/pip-uninstall-p72eWH/tzwin.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH/tzwin.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil', '/private/tmp/pip-uninstall-p72eWH', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-p72eWH'")]

root@3c22fb20c6c3:/Users/shishop|⇒  
  [Restored Jul 10, 2020 at 12:12:17 PM]
Last login: Fri Jul 10 12:12:14 on console
shishop@3c22fb20c6c3:~|⇒  sudo su root
Password:
@3c22fb20c6c3 ➜ shishop  sudo python3 -m pip install matplotlib
xcode-select: Failed to locate 'python3', requesting installation of command line developer tools.
@3c22fb20c6c3 ➜ shishop  xcode-select --install
xcode-select: error: command line tools are already installed, use "Software Update" to install updates
@3c22fb20c6c3 ➜ shishop  softwareupdate --install -a
Software Update Tool

Finding available software
No updates are available.
@3c22fb20c6c3 ➜ shishop  pip install boto3
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting boto3
  Using cached boto3-1.14.20-py2.py3-none-any.whl (128 kB)
Requirement already satisfied: jmespath<1.0.0,>=0.7.1 in /Library/Python/2.7/site-packages (from boto3) (0.10.0)
Collecting botocore<1.18.0,>=1.17.20
  Using cached botocore-1.17.20-py2.py3-none-any.whl (6.3 MB)
Collecting s3transfer<0.4.0,>=0.3.0
  Using cached s3transfer-0.3.3-py2.py3-none-any.whl (69 kB)
Requirement already satisfied: docutils<0.16,>=0.10 in /Library/Python/2.7/site-packages (from botocore<1.18.0,>=1.17.20->boto3) (0.15.2)
Collecting python-dateutil<3.0.0,>=2.1
  Using cached python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)
Requirement already satisfied: urllib3<1.26,>=1.20; python_version != "3.4" in /Library/Python/2.7/site-packages (from botocore<1.18.0,>=1.17.20->boto3) (1.25.9)
Requirement already satisfied: futures<4.0.0,>=2.2.0; python_version == "2.7" in /Library/Python/2.7/site-packages (from s3transfer<0.4.0,>=0.3.0->boto3) (3.3.0)
Requirement already satisfied: six>=1.5 in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python (from python-dateutil<3.0.0,>=2.1->botocore<1.18.0,>=1.17.20->boto3) (1.12.0)
Installing collected packages: python-dateutil, botocore, s3transfer, boto3
  Attempting uninstall: python-dateutil
    Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil-1.5:
ERROR: Could not install packages due to an EnvironmentError: [('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.pyc', '/private/tmp/pip-uninstall-BkwaYP/parser.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/parser.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.py', '/private/tmp/pip-uninstall-BkwaYP/relativedelta.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/relativedelta.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/zoneinfo-2010g.tar.gz', '/private/tmp/pip-uninstall-BkwaYP/zoneinfo/zoneinfo-2010g.tar.gz', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/zoneinfo/zoneinfo-2010g.tar.gz'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.py', '/private/tmp/pip-uninstall-BkwaYP/zoneinfo/__init__.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/zoneinfo/__init__.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.pyc', '/private/tmp/pip-uninstall-BkwaYP/zoneinfo/__init__.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/zoneinfo/__init__.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo', '/private/tmp/pip-uninstall-BkwaYP/zoneinfo', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/zoneinfo'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.py', '/private/tmp/pip-uninstall-BkwaYP/tz.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/tz.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.pyc', '/private/tmp/pip-uninstall-BkwaYP/relativedelta.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/relativedelta.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.pyc', '/private/tmp/pip-uninstall-BkwaYP/rrule.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/rrule.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.py', '/private/tmp/pip-uninstall-BkwaYP/__init__.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/__init__.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.py', '/private/tmp/pip-uninstall-BkwaYP/parser.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/parser.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.py', '/private/tmp/pip-uninstall-BkwaYP/tzwin.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/tzwin.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.py', '/private/tmp/pip-uninstall-BkwaYP/rrule.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/rrule.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.pyc', '/private/tmp/pip-uninstall-BkwaYP/__init__.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/__init__.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.py', '/private/tmp/pip-uninstall-BkwaYP/easter.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/easter.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.pyc', '/private/tmp/pip-uninstall-BkwaYP/easter.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/easter.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.pyc', '/private/tmp/pip-uninstall-BkwaYP/tz.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/tz.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.pyc', '/private/tmp/pip-uninstall-BkwaYP/tzwin.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP/tzwin.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil', '/private/tmp/pip-uninstall-BkwaYP', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-BkwaYP'")]

@3c22fb20c6c3 ➜ shishop  sudo pip install boto3                
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting boto3
  Using cached boto3-1.14.20-py2.py3-none-any.whl (128 kB)
Requirement already satisfied: jmespath<1.0.0,>=0.7.1 in /Library/Python/2.7/site-packages (from boto3) (0.10.0)
Collecting botocore<1.18.0,>=1.17.20
  Using cached botocore-1.17.20-py2.py3-none-any.whl (6.3 MB)
Collecting s3transfer<0.4.0,>=0.3.0
  Using cached s3transfer-0.3.3-py2.py3-none-any.whl (69 kB)
Requirement already satisfied: docutils<0.16,>=0.10 in /Library/Python/2.7/site-packages (from botocore<1.18.0,>=1.17.20->boto3) (0.15.2)
Collecting python-dateutil<3.0.0,>=2.1
  Using cached python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)
Requirement already satisfied: urllib3<1.26,>=1.20; python_version != "3.4" in /Library/Python/2.7/site-packages (from botocore<1.18.0,>=1.17.20->boto3) (1.25.9)
Requirement already satisfied: futures<4.0.0,>=2.2.0; python_version == "2.7" in /Library/Python/2.7/site-packages (from s3transfer<0.4.0,>=0.3.0->boto3) (3.3.0)
Requirement already satisfied: six>=1.5 in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python (from python-dateutil<3.0.0,>=2.1->botocore<1.18.0,>=1.17.20->boto3) (1.12.0)
Installing collected packages: python-dateutil, botocore, s3transfer, boto3
  Attempting uninstall: python-dateutil
    Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil-1.5:
ERROR: Could not install packages due to an EnvironmentError: [('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.pyc', '/private/tmp/pip-uninstall-elw3qJ/parser.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/parser.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.py', '/private/tmp/pip-uninstall-elw3qJ/relativedelta.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/relativedelta.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/zoneinfo-2010g.tar.gz', '/private/tmp/pip-uninstall-elw3qJ/zoneinfo/zoneinfo-2010g.tar.gz', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/zoneinfo/zoneinfo-2010g.tar.gz'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.py', '/private/tmp/pip-uninstall-elw3qJ/zoneinfo/__init__.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/zoneinfo/__init__.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.pyc', '/private/tmp/pip-uninstall-elw3qJ/zoneinfo/__init__.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/zoneinfo/__init__.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo', '/private/tmp/pip-uninstall-elw3qJ/zoneinfo', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/zoneinfo'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.py', '/private/tmp/pip-uninstall-elw3qJ/tz.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/tz.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.pyc', '/private/tmp/pip-uninstall-elw3qJ/relativedelta.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/relativedelta.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.pyc', '/private/tmp/pip-uninstall-elw3qJ/rrule.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/rrule.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.py', '/private/tmp/pip-uninstall-elw3qJ/__init__.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/__init__.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.py', '/private/tmp/pip-uninstall-elw3qJ/parser.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/parser.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.py', '/private/tmp/pip-uninstall-elw3qJ/tzwin.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/tzwin.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.py', '/private/tmp/pip-uninstall-elw3qJ/rrule.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/rrule.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.pyc', '/private/tmp/pip-uninstall-elw3qJ/__init__.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/__init__.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.py', '/private/tmp/pip-uninstall-elw3qJ/easter.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/easter.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.pyc', '/private/tmp/pip-uninstall-elw3qJ/easter.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/easter.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.pyc', '/private/tmp/pip-uninstall-elw3qJ/tz.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/tz.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.pyc', '/private/tmp/pip-uninstall-elw3qJ/tzwin.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ/tzwin.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil', '/private/tmp/pip-uninstall-elw3qJ', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-elw3qJ'")]

@3c22fb20c6c3 ➜ shishop  pyenv 3.8.3      
pyenv: no such command `3.8.3'
@3c22fb20c6c3 ➜ shishop  pyenv versions
  system
* 3.8.3 (set by /var/root/.pyenv/version)
@3c22fb20c6c3 ➜ shishop  pip3 -version    
Traceback (most recent call last):
  File "/usr/local/bin/pip3", line 5, in <module>
    from pip._internal.cli.main import main
ModuleNotFoundError: No module named 'pip._internal.cli.main'
@3c22fb20c6c3 ➜ shishop  pip install pip._internal.cli.main     
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
ERROR: Could not find a version that satisfies the requirement pip._internal.cli.main (from versions: none)
ERROR: No matching distribution found for pip._internal.cli.main
@3c22fb20c6c3 ➜ shishop  python --version                  
Python 2.7.16
@3c22fb20c6c3 ➜ shishop  pyenv local 3.8.3 
@3c22fb20c6c3 ➜ shishop  python --version 
Python 2.7.16
@3c22fb20c6c3 ➜ shishop  source .zshrc              
root@3c22fb20c6c3:/Users/shishop|⇒  python --version
Python 3.8.3
root@3c22fb20c6c3:/Users/shishop|⇒  su shishop            
shishop@3c22fb20c6c3:~|⇒  sudo -s     
Password:
root@3c22fb20c6c3:~|⇒  pyenv versions
  system
* 3.8.3 (set by /Users/shishop/.python-version)
root@3c22fb20c6c3:~|⇒  python --version
Python 3.8.3
root@3c22fb20c6c3:~|⇒  pip install boto3     
WARNING: The directory '/Users/shishop/Library/Caches/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
WARNING: The directory '/Users/shishop/Library/Caches/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Collecting boto3
  Downloading https://files.pythonhosted.org/packages/3c/f4/41c1d8a69b07b2a087a7e552cbed21111ff36706fec2f1ba9983fba95771/boto3-1.14.20-py2.py3-none-any.whl (128kB)
     |████████████████████████████████| 133kB 1.0MB/s 
Collecting s3transfer<0.4.0,>=0.3.0 (from boto3)
  Downloading https://files.pythonhosted.org/packages/69/79/e6afb3d8b0b4e96cefbdc690f741d7dd24547ff1f94240c997a26fa908d3/s3transfer-0.3.3-py2.py3-none-any.whl (69kB)
     |████████████████████████████████| 71kB 3.0MB/s 
Collecting botocore<1.18.0,>=1.17.20 (from boto3)
  Downloading https://files.pythonhosted.org/packages/87/a6/1710181d97a6763ccced7f69fff8beea751633af2a101c3d02826cf4acce/botocore-1.17.20-py2.py3-none-any.whl (6.3MB)
     |████████████████████████████████| 6.3MB 1.3MB/s 
Collecting jmespath<1.0.0,>=0.7.1 (from boto3)
  Downloading https://files.pythonhosted.org/packages/07/cb/5f001272b6faeb23c1c9e0acc04d48eaaf5c862c17709d20e3469c6e0139/jmespath-0.10.0-py2.py3-none-any.whl
Collecting urllib3<1.26,>=1.20; python_version != "3.4" (from botocore<1.18.0,>=1.17.20->boto3)
  Downloading https://files.pythonhosted.org/packages/e1/e5/df302e8017440f111c11cc41a6b432838672f5a70aa29227bf58149dc72f/urllib3-1.25.9-py2.py3-none-any.whl (126kB)
     |████████████████████████████████| 133kB 1.4MB/s 
Collecting python-dateutil<3.0.0,>=2.1 (from botocore<1.18.0,>=1.17.20->boto3)
  Downloading https://files.pythonhosted.org/packages/d4/70/d60450c3dd48ef87586924207ae8907090de0b306af2bce5d134d78615cb/python_dateutil-2.8.1-py2.py3-none-any.whl (227kB)
     |████████████████████████████████| 235kB 1.4MB/s 
Collecting docutils<0.16,>=0.10 (from botocore<1.18.0,>=1.17.20->boto3)
  Downloading https://files.pythonhosted.org/packages/22/cd/a6aa959dca619918ccb55023b4cb151949c64d4d5d55b3f4ffd7eee0c6e8/docutils-0.15.2-py3-none-any.whl (547kB)
     |████████████████████████████████| 552kB 1.4MB/s 
Collecting six>=1.5 (from python-dateutil<3.0.0,>=2.1->botocore<1.18.0,>=1.17.20->boto3)
  Downloading https://files.pythonhosted.org/packages/ee/ff/48bde5c0f013094d729fe4b0316ba2a24774b3ff1c52d924a8a4cb04078a/six-1.15.0-py2.py3-none-any.whl
Installing collected packages: urllib3, six, python-dateutil, jmespath, docutils, botocore, s3transfer, boto3
Successfully installed boto3-1.14.20 botocore-1.17.20 docutils-0.15.2 jmespath-0.10.0 python-dateutil-2.8.1 s3transfer-0.3.3 six-1.15.0 urllib3-1.25.9
WARNING: You are using pip version 19.2.3, however version 20.1.1 is available.
You should consider upgrading via the 'pip install --upgrade pip' command.
root@3c22fb20c6c3:~|⇒  pip install --upgrade pip
WARNING: The directory '/Users/shishop/Library/Caches/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
WARNING: The directory '/Users/shishop/Library/Caches/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Collecting pip
  Downloading https://files.pythonhosted.org/packages/43/84/23ed6a1796480a6f1a2d38f2802901d078266bda38388954d01d3f2e821d/pip-20.1.1-py2.py3-none-any.whl (1.5MB)
     |████████████████████████████████| 1.5MB 685kB/s 
Installing collected packages: pip
  Found existing installation: pip 19.2.3
    Uninstalling pip-19.2.3:
      Successfully uninstalled pip-19.2.3
Successfully installed pip-20.1.1
root@3c22fb20c6c3:~|⇒  sudo shishop
sudo: shishop: command not found
root@3c22fb20c6c3:~|⇒  su shishop  
shishop@3c22fb20c6c3:~|⇒  python sample.py         
Traceback (most recent call last):
  File "sample.py", line 3, in <module>
    import requests
ModuleNotFoundError: No module named 'requests'
shishop@3c22fb20c6c3:~|⇒  pip install Pillow
Collecting Pillow
  Downloading Pillow-7.2.0-cp38-cp38-macosx_10_10_x86_64.whl (2.2 MB)
     |████████████████████████████████| 2.2 MB 1.3 MB/s 
Installing collected packages: Pillow
Successfully installed Pillow-7.2.0
shishop@3c22fb20c6c3:~|⇒  sudo -s     
Password:
root@3c22fb20c6c3:~|⇒  pip install Pillow
WARNING: The directory '/Users/shishop/Library/Caches/pip' or its parent directory is not owned or is not writable by the current user. The cache has been disabled. Check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Requirement already satisfied: Pillow in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (7.2.0)
root@3c22fb20c6c3:~|⇒  python -m pip install -U matplotlib
WARNING: The directory '/Users/shishop/Library/Caches/pip' or its parent directory is not owned or is not writable by the current user. The cache has been disabled. Check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Collecting matplotlib
  Downloading matplotlib-3.2.2-cp38-cp38-macosx_10_9_x86_64.whl (12.5 MB)
     |████████████████████████████████| 12.5 MB 3.1 MB/s 
Collecting pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.1
  Downloading pyparsing-2.4.7-py2.py3-none-any.whl (67 kB)
     |████████████████████████████████| 67 kB 4.4 MB/s 
Collecting kiwisolver>=1.0.1
  Downloading kiwisolver-1.2.0-cp38-cp38-macosx_10_9_x86_64.whl (60 kB)
     |████████████████████████████████| 60 kB 3.1 MB/s 
Collecting cycler>=0.10
  Downloading cycler-0.10.0-py2.py3-none-any.whl (6.5 kB)
Requirement already satisfied, skipping upgrade: python-dateutil>=2.1 in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (from matplotlib) (2.8.1)
Collecting numpy>=1.11
  Downloading numpy-1.19.0-cp38-cp38-macosx_10_9_x86_64.whl (15.3 MB)
     |████████████████████████████████| 15.3 MB 1.6 MB/s 
Requirement already satisfied, skipping upgrade: six in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (from cycler>=0.10->matplotlib) (1.15.0)
Installing collected packages: pyparsing, kiwisolver, cycler, numpy, matplotlib
Successfully installed cycler-0.10.0 kiwisolver-1.2.0 matplotlib-3.2.2 numpy-1.19.0 pyparsing-2.4.7
root@3c22fb20c6c3:~|⇒  pip install numpy
WARNING: The directory '/Users/shishop/Library/Caches/pip' or its parent directory is not owned or is not writable by the current user. The cache has been disabled. Check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Requirement already satisfied: numpy in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (1.19.0)
root@3c22fb20c6c3:~|⇒  pip install requests
WARNING: The directory '/Users/shishop/Library/Caches/pip' or its parent directory is not owned or is not writable by the current user. The cache has been disabled. Check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Collecting requests
  Downloading requests-2.24.0-py2.py3-none-any.whl (61 kB)
     |████████████████████████████████| 61 kB 841 kB/s 
Collecting idna<3,>=2.5
  Downloading idna-2.10-py2.py3-none-any.whl (58 kB)
     |████████████████████████████████| 58 kB 1.8 MB/s 
Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (from requests) (1.25.9)
Collecting certifi>=2017.4.17
  Downloading certifi-2020.6.20-py2.py3-none-any.whl (156 kB)
     |████████████████████████████████| 156 kB 1.6 MB/s 
Collecting chardet<4,>=3.0.2
  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)
     |████████████████████████████████| 133 kB 1.4 MB/s 
Installing collected packages: idna, certifi, chardet, requests
Successfully installed certifi-2020.6.20 chardet-3.0.4 idna-2.10 requests-2.24.0
root@3c22fb20c6c3:~|⇒  pip install Keras
WARNING: The directory '/Users/shishop/Library/Caches/pip' or its parent directory is not owned or is not writable by the current user. The cache has been disabled. Check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Collecting Keras
  Downloading Keras-2.4.3-py2.py3-none-any.whl (36 kB)
Requirement already satisfied: numpy>=1.9.1 in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (from Keras) (1.19.0)
Collecting pyyaml
  Downloading PyYAML-5.3.1.tar.gz (269 kB)
     |████████████████████████████████| 269 kB 372 kB/s 
Collecting h5py
  Downloading h5py-2.10.0-cp38-cp38-macosx_10_9_x86_64.whl (3.0 MB)
     |████████████████████████████████| 3.0 MB 1.3 MB/s 
Collecting scipy>=0.14
  Downloading scipy-1.5.1-cp38-cp38-macosx_10_9_x86_64.whl (28.9 MB)
     |████████████████████████████████| 28.9 MB 2.7 MB/s 
Requirement already satisfied: six in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (from h5py->Keras) (1.15.0)
Using legacy setup.py install for pyyaml, since package 'wheel' is not installed.
Installing collected packages: pyyaml, h5py, scipy, Keras
    Running setup.py install for pyyaml ... done
Successfully installed Keras-2.4.3 h5py-2.10.0 pyyaml-5.3.1 scipy-1.5.1
root@3c22fb20c6c3:~|⇒  pip install scipy
WARNING: The directory '/Users/shishop/Library/Caches/pip' or its parent directory is not owned or is not writable by the current user. The cache has been disabled. Check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Requirement already satisfied: scipy in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (1.5.1)
Requirement already satisfied: numpy>=1.14.5 in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (from scipy) (1.19.0)
root@3c22fb20c6c3:~|⇒  python sample.py                   
Traceback (most recent call last):
  File "sample.py", line 4, in <module>
    from requests_aws4auth import AWS4Auth
ModuleNotFoundError: No module named 'requests_aws4auth'
root@3c22fb20c6c3:~|⇒  requests_aws4auth
zsh: command not found: requests_aws4auth
root@3c22fb20c6c3:~|⇒  pip install requests_aws4auth     
WARNING: The directory '/Users/shishop/Library/Caches/pip' or its parent directory is not owned or is not writable by the current user. The cache has been disabled. Check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Collecting requests_aws4auth
  Downloading requests_aws4auth-1.0-py2.py3-none-any.whl (40 kB)
     |████████████████████████████████| 40 kB 801 kB/s 
Requirement already satisfied: requests in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (from requests_aws4auth) (2.24.0)
Requirement already satisfied: idna<3,>=2.5 in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (from requests->requests_aws4auth) (2.10)
Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (from requests->requests_aws4auth) (1.25.9)
Requirement already satisfied: chardet<4,>=3.0.2 in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (from requests->requests_aws4auth) (3.0.4)
Requirement already satisfied: certifi>=2017.4.17 in ./.pyenv/versions/3.8.3/lib/python3.8/site-packages (from requests->requests_aws4auth) (2020.6.20)
Installing collected packages: requests-aws4auth
Successfully installed requests-aws4auth-1.0
root@3c22fb20c6c3:~|⇒  python sample.py             
root@3c22fb20c6c3:~|⇒  python sample.py -o
root@3c22fb20c6c3:~|⇒  pip install requests -t

Usage:   
  pip install [options] <requirement specifier> [package-index-options] ...
  pip install [options] -r <requirements file> [package-index-options] ...
  pip install [options] [-e] <vcs project url> ...
  pip install [options] [-e] <local project path> ...
  pip install [options] <archive url/path> ...

-t option requires 1 argument
root@3c22fb20c6c3:~|⇒  cd s3-to-es
pip install requests -t .
pip install requests_aws4auth -t .
cd: no such file or directory: s3-to-es
WARNING: The directory '/Users/shishop/Library/Caches/pip' or its parent directory is not owned or is not writable by the current user. The cache has been disabled. Check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Collecting requests
  Downloading requests-2.24.0-py2.py3-none-any.whl (61 kB)
     |████████████████████████████████| 61 kB 859 kB/s 
Collecting urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1
  Downloading urllib3-1.25.9-py2.py3-none-any.whl (126 kB)
     |████████████████████████████████| 126 kB 2.3 MB/s 
Collecting idna<3,>=2.5
  Downloading idna-2.10-py2.py3-none-any.whl (58 kB)
     |████████████████████████████████| 58 kB 3.0 MB/s 
Collecting chardet<4,>=3.0.2
  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)
     |████████████████████████████████| 133 kB 1.9 MB/s 
Collecting certifi>=2017.4.17
  Downloading certifi-2020.6.20-py2.py3-none-any.whl (156 kB)
     |████████████████████████████████| 156 kB 1.1 MB/s 
Installing collected packages: urllib3, idna, chardet, certifi, requests
Successfully installed certifi-2020.6.20 chardet-3.0.4 idna-2.10 requests-2.24.0 urllib3-1.25.9
WARNING: The directory '/Users/shishop/Library/Caches/pip' or its parent directory is not owned or is not writable by the current user. The cache has been disabled. Check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.
Collecting requests_aws4auth
  Downloading requests_aws4auth-1.0-py2.py3-none-any.whl (40 kB)
     |████████████████████████████████| 40 kB 722 kB/s 
Collecting requests
  Downloading requests-2.24.0-py2.py3-none-any.whl (61 kB)
     |████████████████████████████████| 61 kB 2.4 MB/s 
Collecting chardet<4,>=3.0.2
  Downloading chardet-3.0.4-py2.py3-none-any.whl (133 kB)
     |████████████████████████████████| 133 kB 553 kB/s 
Collecting urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1
  Downloading urllib3-1.25.9-py2.py3-none-any.whl (126 kB)
     |████████████████████████████████| 126 kB 1.9 MB/s 
Collecting certifi>=2017.4.17
  Downloading certifi-2020.6.20-py2.py3-none-any.whl (156 kB)
     |████████████████████████████████| 156 kB 3.0 MB/s 
Collecting idna<3,>=2.5
  Downloading idna-2.10-py2.py3-none-any.whl (58 kB)
     |████████████████████████████████| 58 kB 4.8 MB/s 
Installing collected packages: chardet, urllib3, certifi, idna, requests, requests-aws4auth
Successfully installed certifi-2020.6.20 chardet-3.0.4 idna-2.10 requests-2.24.0 requests-aws4auth-1.0 urllib3-1.25.9
WARNING: Target directory /Users/shishop/chardet-3.0.4.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /Users/shishop/chardet already exists. Specify --upgrade to force replacement.
WARNING: Target directory /Users/shishop/certifi-2020.6.20.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /Users/shishop/idna-2.10.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /Users/shishop/idna already exists. Specify --upgrade to force replacement.
WARNING: Target directory /Users/shishop/requests already exists. Specify --upgrade to force replacement.
WARNING: Target directory /Users/shishop/certifi already exists. Specify --upgrade to force replacement.
WARNING: Target directory /Users/shishop/requests-2.24.0.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /Users/shishop/urllib3 already exists. Specify --upgrade to force replacement.
WARNING: Target directory /Users/shishop/urllib3-1.25.9.dist-info already exists. Specify --upgrade to force replacement.
WARNING: Target directory /Users/shishop/bin already exists. Specify --upgrade to force replacement.
root@3c22fb20c6c3:~|⇒  cd s3-to-es
pip install requests -t .
pip install requests_aws4auth -t  
root@3c22fb20c6c3:~|⇒  zip -r lambda.zip *
	zip warning: name not matched: Library/Saved Application State/com.microsoft.Outlook.savedState
	zip warning: name not matched: Library/WebKit/com.apple.finder/WebsiteData/IndexedDB/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0
	zip warning: name not matched: Library/WebKit/com.apple.Spotlight/WebsiteData/IndexedDB/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0
	zip warning: name not matched: Library/WebKit/com.apple.keychainaccess/WebsiteData/IndexedDB/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0
	zip warning: name not matched: Library/WebKit/com.amazon.workspaces/WebsiteData/IndexedDB/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0
	zip warning: name not matched: Library/WebKit/com.Amazon.WorkDocs.Drive/WebsiteData/IndexedDB/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0
	zip warning: name not matched: Library/WebKit/com.amazon.Amazon-Chime/WebsiteData/IndexedDB/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0
	zip warning: name not matched: Library/Logs/ims.log
	zip warning: name not matched: Library/Safari/Databases/___IndexedDB/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0/v0
	zip warning: name not matched: Library/Containers/com.apple.CloudPhotosConfiguration/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.CloudPhotosConfiguration/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.CloudPhotosConfiguration/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.CloudPhotosConfiguration/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.CloudPhotosConfiguration/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.CloudPhotosConfiguration/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.CloudPhotosConfiguration/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.CloudPhotosConfiguration/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.CloudPhotosConfiguration/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.PressAndHold/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.PressAndHold/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.PressAndHold/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.PressAndHold/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.PressAndHold/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.PressAndHold/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.PressAndHold/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.PressAndHold/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.PressAndHold/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.iCal.CalendarNC/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.iCal.CalendarNC/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.iCal.CalendarNC/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.iCal.CalendarNC/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.iCal.CalendarNC/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.iCal.CalendarNC/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.iCal.CalendarNC/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.iCal.CalendarNC/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.iCal.CalendarNC/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.languageassetd/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.languageassetd/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.languageassetd/Data/Library/Preferences/com.apple.security_common.plist
Scanning files 
	zip warning: name not matched: Library/Containers/com.apple.languageassetd/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.languageassetd/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.languageassetd/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.languageassetd/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.languageassetd/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.languageassetd/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.iCal/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.iCal/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.iCal/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.iCal/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.iCal/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.iCal/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.iCal/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.iCal/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.iCal/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.agilebits.onepassword7/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.agilebits.onepassword7/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.agilebits.onepassword7/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.agilebits.onepassword7/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.agilebits.onepassword7/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.agilebits.onepassword7/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.agilebits.onepassword7/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.agilebits.onepassword7/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.agilebits.onepassword7/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.ghostery.lite.contentBlocker/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.ghostery.lite.contentBlocker/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.ghostery.lite.contentBlocker/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.ghostery.lite.contentBlocker/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.ghostery.lite.contentBlocker/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.ghostery.lite.contentBlocker/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.ghostery.lite.contentBlocker/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.ghostery.lite.contentBlocker/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.ghostery.lite.contentBlocker/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.archiveutility/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.archiveutility/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.archiveutility/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.archiveutility/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.archiveutility/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.archiveutility/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.archiveutility/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.archiveutility/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.archiveutility/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.ScreenTimeAgent/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.ScreenTimeAgent/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.ScreenTimeAgent/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.ScreenTimeAgent/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.ScreenTimeAgent/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.ScreenTimeAgent/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.ScreenTimeAgent/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.ScreenTimeAgent/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.ScreenTimeAgent/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.calculator/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.calculator/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.calculator/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.calculator/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.calculator/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.calculator/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.calculator/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.calculator/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.calculator/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.notificationcenterui.WeatherSummary/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.notificationcenterui.WeatherSummary/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.notificationcenterui.WeatherSummary/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.notificationcenterui.WeatherSummary/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.notificationcenterui.WeatherSummary/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.notificationcenterui.WeatherSummary/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.notificationcenterui.WeatherSummary/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.notificationcenterui.WeatherSummary/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.notificationcenterui.WeatherSummary/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.ncplugin.weather/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.ncplugin.weather/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.ncplugin.weather/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.ncplugin.weather/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.ncplugin.weather/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.ncplugin.weather/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.ncplugin.weather/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.ncplugin.weather/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.ncplugin.weather/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.preferences.sharing.SharingBluetoothService/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.preferences.sharing.SharingBluetoothService/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.preferences.sharing.SharingBluetoothService/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.preferences.sharing.SharingBluetoothService/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.preferences.sharing.SharingBluetoothService/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.preferences.sharing.SharingBluetoothService/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.preferences.sharing.SharingBluetoothService/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.preferences.sharing.SharingBluetoothService/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.preferences.sharing.SharingBluetoothService/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.quicklook.QuickLookUIService/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.quicklook.QuickLookUIService/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.quicklook.QuickLookUIService/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.quicklook.QuickLookUIService/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.quicklook.QuickLookUIService/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.quicklook.QuickLookUIService/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.quicklook.QuickLookUIService/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.quicklook.QuickLookUIService/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.quicklook.QuickLookUIService/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.WeatherKitService/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.WeatherKitService/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.WeatherKitService/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.WeatherKitService/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.WeatherKitService/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.WeatherKitService/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.WeatherKitService/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.WeatherKitService/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.WeatherKitService/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.contacts.donation-agent/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.contacts.donation-agent/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.contacts.donation-agent/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.contacts.donation-agent/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.contacts.donation-agent/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.contacts.donation-agent/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.contacts.donation-agent/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.contacts.donation-agent/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.contacts.donation-agent/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.lastpass.LastPass/Data/Library/Application Support/SyncServices
	zip warning: ignoring FIFO (Named Pipe) - use -FI to read: Library/Containers/com.lastpass.LastPass/Data/Library/Application Support/LastPass/pipes/lastpassmacapp
	zip warning: name not matched: Library/Containers/com.lastpass.LastPass/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.lastpass.LastPass/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.lastpass.LastPass/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.lastpass.LastPass/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.lastpass.LastPass/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.lastpass.LastPass/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.lastpass.LastPass/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.lastpass.LastPass/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.photolibraryd/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.photolibraryd/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.photolibraryd/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.photolibraryd/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.photolibraryd/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.photolibraryd/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.photolibraryd/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.photolibraryd/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.photolibraryd/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.siri.media-indexer/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.siri.media-indexer/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.siri.media-indexer/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.siri.media-indexer/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.siri.media-indexer/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.siri.media-indexer/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.siri.media-indexer/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.siri.media-indexer/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.siri.media-indexer/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.CryptoTokenKit.setoken/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.CryptoTokenKit.setoken/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.CryptoTokenKit.setoken/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.CryptoTokenKit.setoken/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.CryptoTokenKit.setoken/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.CryptoTokenKit.setoken/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.CryptoTokenKit.setoken/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.CryptoTokenKit.setoken/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.CryptoTokenKit.setoken/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.BKAgentService/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.BKAgentService/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.BKAgentService/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.BKAgentService/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.BKAgentService/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.BKAgentService/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.BKAgentService/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.BKAgentService/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.BKAgentService/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.quip.Desktop/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.quip.Desktop/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.quip.Desktop/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.quip.Desktop/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.quip.Desktop/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.quip.Desktop/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.quip.Desktop/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.quip.Desktop/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.quip.Desktop/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.LookupViewService/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.LookupViewService/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.LookupViewService/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.LookupViewService/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.LookupViewService/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.LookupViewService/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.LookupViewService/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.LookupViewService/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.LookupViewService/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.AMPDeviceDiscoveryAgent/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.AMPDeviceDiscoveryAgent/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.AMPDeviceDiscoveryAgent/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.AMPDeviceDiscoveryAgent/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.AMPDeviceDiscoveryAgent/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.AMPDeviceDiscoveryAgent/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.AMPDeviceDiscoveryAgent/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.AMPDeviceDiscoveryAgent/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.AMPDeviceDiscoveryAgent/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.CalendarNotification.CalNCService/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.CalendarNotification.CalNCService/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.CalendarNotification.CalNCService/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.CalendarNotification.CalNCService/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.CalendarNotification.CalNCService/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.CalendarNotification.CalNCService/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.CalendarNotification.CalNCService/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.CalendarNotification.CalNCService/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.CalendarNotification.CalNCService/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.Safari.BrowserDataImportingService/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.Safari.BrowserDataImportingService/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.Safari.BrowserDataImportingService/Data/Library/Preferences/com.apple.security_common.plist
.	zip warning: name not matched: Library/Containers/com.apple.Safari.BrowserDataImportingService/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.Safari.BrowserDataImportingService/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.Safari.BrowserDataImportingService/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.Safari.BrowserDataImportingService/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.Safari.BrowserDataImportingService/Data/Library/Components
	zip warning: name not matched: Library/Containers/com.apple.Safari.BrowserDataImportingService/Data/Documents/iChats
	zip warning: name not matched: Library/Containers/com.apple.Safari/Data/Library/Application Support/SyncServices
	zip warning: name not matched: Library/Containers/com.apple.Safari/Data/Library/Filters
	zip warning: name not matched: Library/Containers/com.apple.Safari/Data/Library/Preferences/com.apple.security_common.plist
	zip warning: name not matched: Library/Containers/com.apple.Safari/Data/Library/KeyBindings
	zip warning: name not matched: Library/Containers/com.apple.Safari/Data/Library/ColorSync
	zip warning: name not matched: Library/Containers/com.apple.Safari/Data/Library/QuickLook
	zip warning: name not matched: Library/Containers/com.apple.Safari/Data/Library/Images/People
	zip warning: name not matched: Library/Containers/com.apple.Safari/Data/Library/Components
^C

zip error: Interrupted (aborting)
root@3c22fb20c6c3:~|⇒  mkcd s3-to-es         
root@3c22fb20c6c3:~/s3-to-es|⇒  cp ~/sample.py ./             
root@3c22fb20c6c3:~/s3-to-es|⇒  ll
total 4
drwxr-xr-x   3 root      96 Jul 10 12:59 .
drwxr-xr-x+ 77 shishop 2464 Jul 10 12:59 ..
-rw-r--r--   1 root    3056 Jul 10 12:59 sample.py
root@3c22fb20c6c3:~/s3-to-es|⇒  vim sample.py
root@3c22fb20c6c3:~/s3-to-es|⇒  zip -r lambda.zip *
  adding: sample.py (deflated 73%)
root@3c22fb20c6c3:~/s3-to-es|⇒  ll
total 8
drwxr-xr-x   4 root     128 Jul 10 13:00 .
drwxr-xr-x+ 77 shishop 2464 Jul 10 13:01 ..
-rw-r--r--   1 root    1002 Jul 10 13:00 lambda.zip
-rw-r--r--   1 root    3056 Jul 10 13:00 sample.py
root@3c22fb20c6c3:~/s3-to-es|⇒  chmod 777 sample.py 
root@3c22fb20c6c3:~/s3-to-es|⇒  zip -r lambda.zip *
updating: sample.py (deflated 73%)
root@3c22fb20c6c3:~/s3-to-es|⇒  ll
total 8
drwxr-xr-x   4 root     128 Jul 10 13:02 .
drwxr-xr-x+ 77 shishop 2464 Jul 10 13:02 ..
-rw-r--r--   1 root    1002 Jul 10 13:02 lambda.zip
-rwxrwxrwx   1 root    3056 Jul 10 13:00 sample.py
root@3c22fb20c6c3:~/s3-to-es|⇒  chmod 777 lambda.zip
root@3c22fb20c6c3:~/s3-to-es|⇒  vim sample.py       

import boto3
import re
import requests
from requests_aws4auth import AWS4Auth

region = 'us-west-2'  # e.g. us-west-1
service = 'es'
credentials = boto3.Session().get_credentials()
awsauth = AWS4Auth(credentials.access_key, credentials.secret_key, region, service, session_token=credentials.token)

host = 'https://search-public-es-basic-yqop6xdmkmdltht2zrcv27q4um.us-west-2.es.amazonaws.com:443'  # the Amazon ES domain, including https://
index = 'lambda-s3-index'
type = 'lambda-type'
"sample.py" 83L, 3056C
Last login: Thu Jul  9 23:22:49 on ttys000
shishop@3c22fb20c6c3:~|⇒  su root
Password:
su: Sorry
shishop@3c22fb20c6c3:~|⇒  sudo su root
Password:
@3c22fb20c6c3 ➜ shishop  cd ..                                          
@3c22fb20c6c3 ➜ /Users  l 
.localized  Shared/  admin/  shishop/  tokenadmin/
@3c22fb20c6c3 ➜ /Users  cd shishop
@3c22fb20c6c3 ➜ shishop  pwd          
/Users/shishop
@3c22fb20c6c3 ➜ shishop  which user  
user not found
@3c22fb20c6c3 ➜ shishop  whoami    
root
@3c22fb20c6c3 ➜ shishop  szrc         
@3c22fb20c6c3 ➜ shishop  l 
 .CFUserTextEncoding*		  .zcompdump-3c22fb20c6c3-5.7.1
 .DS_Store*			  .zsh_history*
 .Trash/			  .zshrc
 .android/			  .zshrc.pre-oh-my-zsh*
 .anyconnect*			 'Amazon WorkDocs Drive'/
 .aws/				  AmazonWorkDocsCompanion/
 .bash_profile			  Applications/
 .bundle/			 'Chrome Passwords.csv'
 .cisco/			  Color.terminal
 .config/			  Desktop/
 .cups/				  Documents/
 .eclipse/			  Downloads/
 .gem/				  Library/
 .iterm2/			  Movies/
 .iterm2_shell_integration.zsh*   Music/
 .local/			  Pictures/
 .m2/				  Postman/
 .matplotlib/			  Public/
 .mysql_history*		  PycharmProjects/
 .oh-my-zsh/			 'WorkDocs Drive'/
 .oracle_jre_usage/		  _.local/
 .pip/				  apache-maven-3.6.3/
 .profile*			  fonts/
 .pyenv/			  get-pip.py*
 .python_history		  key.pem*
 .ssh/				  nep-s3-loader.rtf*
 .vim/				  sample.py
 .viminfo*			  zsh-syntax-highlighting/
 .wget-hsts
@3c22fb20c6c3 ➜ shishop  source .zshrc
root@3c22fb20c6c3:/Users/shishop|⇒  szrc         
root@3c22fb20c6c3:/Users/shishop|⇒  pip --version
zsh: /usr/local/bin/pip: bad interpreter: /Library/Developer/CommandLineTools/usr/bin/python3: no such file or directory
root@3c22fb20c6c3:/Users/shishop|⇒  python get-pip.py 
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting pip
  Downloading pip-20.1.1-py2.py3-none-any.whl (1.5 MB)
     |████████████████████████████████| 1.5 MB 1.1 MB/s 
Installing collected packages: pip
Successfully installed pip-20.1.1
root@3c22fb20c6c3:/Users/shishop|⇒  python --version 
Python 2.7.16
root@3c22fb20c6c3:/Users/shishop|⇒  bri install pyenv
Error: Running Homebrew as root is extremely dangerous and no longer supported.
As Homebrew does not drop privileges on installation you would be giving all
build scripts full access to your system.
root@3c22fb20c6c3:/Users/shishop|⇒  pip install pyenv   
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting pyenv
  Downloading pyenv-0.0.1.tar.gz (1.4 kB)
Building wheels for collected packages: pyenv
  Building wheel for pyenv (setup.py) ... error
  ERROR: Command errored out with exit status 1:
   command: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"'; __file__='"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' bdist_wheel -d /private/tmp/pip-wheel-qqqJGz
       cwd: /private/tmp/pip-install-wMXKIl/pyenv/
  Complete output (12 lines):
  running bdist_wheel
  running build
  installing to build/bdist.macosx-10.15-x86_64/wheel
  running install
  ############################ NOTE ############################
  We are sorry, but this package is not installable with pip.
  
  Please read the installation instructions at:
  
  https://github.com/pyenv/pyenv#installation
  ##############################################################
  
  ----------------------------------------
  ERROR: Failed building wheel for pyenv
  Running setup.py clean for pyenv
Failed to build pyenv
Installing collected packages: pyenv
    Running setup.py install for pyenv ... error
    ERROR: Command errored out with exit status 1:
     command: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"'; __file__='"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' install --record /private/tmp/pip-record-dXDXdE/install-record.txt --single-version-externally-managed --compile --install-headers /System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyenv
         cwd: /private/tmp/pip-install-wMXKIl/pyenv/
    Complete output (9 lines):
    running install
    ############################ NOTE ############################
    We are sorry, but this package is not installable with pip.
    
    Please read the installation instructions at:
    
    https://github.com/pyenv/pyenv#installation
    ##############################################################
    
    ----------------------------------------
ERROR: Command errored out with exit status 1: /System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"'; __file__='"'"'/private/tmp/pip-install-wMXKIl/pyenv/setup.py'"'"';f=getattr(tokenize, '"'"'open'"'"', open)(__file__);code=f.read().replace('"'"'\r\n'"'"', '"'"'\n'"'"');f.close();exec(compile(code, __file__, '"'"'exec'"'"'))' install --record /private/tmp/pip-record-dXDXdE/install-record.txt --single-version-externally-managed --compile --install-headers /System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7/pyenv Check the logs for full command output.
root@3c22fb20c6c3:/Users/shishop|⇒  pip install boto3
DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. pip 21.0 will drop support for Python 2.7 in January 2021. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support
Collecting boto3
  Downloading boto3-1.14.20-py2.py3-none-any.whl (128 kB)
     |████████████████████████████████| 128 kB 1.4 MB/s 
Collecting jmespath<1.0.0,>=0.7.1
  Downloading jmespath-0.10.0-py2.py3-none-any.whl (24 kB)
Collecting botocore<1.18.0,>=1.17.20
  Downloading botocore-1.17.20-py2.py3-none-any.whl (6.3 MB)
     |████████████████████████████████| 6.3 MB 629 kB/s 
Collecting s3transfer<0.4.0,>=0.3.0
  Downloading s3transfer-0.3.3-py2.py3-none-any.whl (69 kB)
     |████████████████████████████████| 69 kB 2.3 MB/s 
Collecting docutils<0.16,>=0.10
  Downloading docutils-0.15.2-py2-none-any.whl (548 kB)
     |████████████████████████████████| 548 kB 3.4 MB/s 
Collecting python-dateutil<3.0.0,>=2.1
  Downloading python_dateutil-2.8.1-py2.py3-none-any.whl (227 kB)
     |████████████████████████████████| 227 kB 1.4 MB/s 
Requirement already satisfied: urllib3<1.26,>=1.20; python_version != "3.4" in /Library/Python/2.7/site-packages (from botocore<1.18.0,>=1.17.20->boto3) (1.25.9)
Collecting futures<4.0.0,>=2.2.0; python_version == "2.7"
  Downloading futures-3.3.0-py2-none-any.whl (16 kB)
Requirement already satisfied: six>=1.5 in /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python (from python-dateutil<3.0.0,>=2.1->botocore<1.18.0,>=1.17.20->boto3) (1.12.0)
ERROR: matplotlib 1.3.1 requires nose, which is not installed.
ERROR: matplotlib 1.3.1 requires tornado, which is not installed.
Installing collected packages: jmespath, docutils, python-dateutil, botocore, futures, s3transfer, boto3
  Attempting uninstall: python-dateutil
    Found existing installation: python-dateutil 1.5
    Uninstalling python-dateutil-1.5:
ERROR: Could not install packages due to an EnvironmentError: [('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.pyc', '/private/tmp/pip-uninstall-_aYJFe/parser.pyc', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/parser.pyc'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.py', '/private/tmp/pip-uninstall-_aYJFe/relativedelta.py', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/relativedelta.py'"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/zoneinfo-2010g.tar.gz', '/private/tmp/pip-uninstall-_aYJFe/zoneinfo/zoneinfo-2010g.tar.gz', "[Errno 1] Operation not permitted: '/private/tmp/pip-uninstall-_aYJFe/zoneinfo/zoneinfo-2010g.tar.gz'"), ('/System/Library/Framewimport boto3
import re
import requests
from requests_aws4auth import AWS4Auth

region = 'us-west-2'  # e.g. us-west-1
service = 'es'
credentials = boto3.Session().get_credentials()
awsauth = AWS4Auth(credentials.access_key, credentials.secret_key, region, service, session_token=credentials.token)

host = 'https://search-public-es-basic-yqop6xdmkmdltht2zrcv27q4um.us-west-2.es.amazonaws.com:443'  # the Amazon ES domain, including https://
index = 'lambda-s3-index'
type = 'lambda-type'
url = host + '/' + index + '/' + type

headers = {"Content-Type": "application/json"}

s3 = boto3.client('s3')

# Regular expressions used to parse some simple log lines
ip_pattern = re.compile('(\d+\.\d+\.\d+\.\d+)')
time_pattern = re.compile('\[(\d+\/\w\w\w\/\d\d\d\d:\d\d:\d\d:\d\d\s-\d\d\d\d)\]')
message_pattern = re.compile('\"(.+)\"')


# Lambda execution starts here
def handler(event, context):
    for record in event['Records']:

        # Get the bucket name and key for the new file
        bucket = record['s3']['bucket']['name']
        key = record['s3']['object']['key']

        # Get, read, and split the file into lines
        obj = s3.get_object(Bucket=bucket, Key=key)
        body = obj['Body'].read()
        lines = body.splitlines()

        # Match the regular expressions to each line and index the JSON
        for line in lines:
            ip = ip_pattern.search(line).group(1)
            timestamp = time_pattern.search(line).group(1)
            message = message_pattern.search(line).group(1)

            document = {"ip": ip, "timestamp": timestamp, "message": message}

host = 'https://search-public-es-basic-yqop6xdmkmdltht2zrcv27q4um.us-west-2.es.amazonaws.com:443'  # the Amazon ES domain, including https://
index = 'lambda-s3-index'
type = 'lambda-type'
url = host + '/' + index + '/' + type

headers = {"Content-Type": "application/json"}

s3 = boto3.client('s3')

# Regular expressions used to parse some simple log lines
ip_pattern = re.compile('(\d+\.\d+\.\d+\.\d+)')
time_pattern = re.compile('\[(\d+\/\w\w\w\/\d\d\d\d:\d\d:\d\d:\d\d\s-\d\d\d\d)\]')
message_pattern = re.compile('\"(.+)\"')


# Lambda execution starts here
def handler(event, context):
    for record in event['Records']:

        # Get the bucket name and key for the new file
        bucket = record['s3']['bucket']['name']
        key = record['s3']['object']['key']

        # Get, read, and split the file into lines
        obj = s3.get_object(Bucket=bucket, Key=key)
        body = obj['Body'].read()
        lines = body.splitlines()

        # Match the regular expressions to each line and index the JSON
        for line in lines:
            ip = ip_pattern.search(line).group(1)
            timestamp = time_pattern.search(line).group(1)
            message = message_pattern.search(line).group(1)

            document = {"ip": ip, "timestamp": timestamp, "message": message}
            r = requests.post(url, auth=awsauth, json=document, headers=headers)
            r = requests.post(url, auth=awsauth, json=document, headers=headers)
