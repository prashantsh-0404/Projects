[ec2-user@ip-11-0-1-38 .aws]$ aws iam list-instance-profiles-for-role --role-name Neptune-Nest-role
{
    "InstanceProfiles": [
        {
            "InstanceProfileId": "AIPAWU724ZEBA7KMLPLXD", 
            "Roles": [
                {
                    "AssumeRolePolicyDocument": {
                        "Version": "2012-10-17", 
                        "Statement": [
                            {
                                "Action": "sts:AssumeRole", 
                                "Effect": "Allow", 
                                "Principal": {
                                    "AWS": "arn:aws:iam::457403320578:user/admin", 
                                    "Service": [
                                        "rds.amazonaws.com", 
                                        "ec2.amazonaws.com", 
                                        "sagemaker.amazonaws.com"
                                    ]
                                }
                            }
                        ]
                    }, 
                    "RoleId": "AROAWU724ZEBKE2KQ6QPJ", 
                    "CreateDate": "2021-09-02T06:19:55Z", 
                    "RoleName": "Neptune-Nest-role", 
                    "Path": "/", 
                    "Arn": "arn:aws:iam::457403320578:role/Neptune-Nest-role"
                }
            ], 
            "CreateDate": "2021-09-02T06:19:56Z", 
            "InstanceProfileName": "Neptune-Nest-role", 
            "Path": "/", 
            "Arn": "arn:aws:iam::457403320578:instance-profile/Neptune-Nest-role"
        }
    ]
}
[ec2-user@ip-11-0-1-38 .aws]$ curl -X POST \
>     -H 'Content-Type: application/json' \
>     https://np-cluster-neptune-nest-instance-1.ch8cuxkb0m2v.us-west-2.neptune.amazonaws.com:8182/loader -d '
>     { 
>       "source" : "s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data/", 
>       "iamRoleArn" : "arn:aws:iam::457403320578:role/Neptune-Nest-role",
>       "format" : "csv", 
>       "region" : "us-west-2", 
>       "failOnError" : "TRUE"
>     }'
{"detailedMessage":"Failed to start new load from the source s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data/. Couldn't find the aws credential for iam_role_arn: arn:aws:iam::457403320578:role/Neptune-Nest-role","code":"InvalidParameterException","requestId":"20bdd351-43af-b446-9d79-f59bda598177"}[ec2-user@ip-11-0-1-38 .aws]$ client_loop: send disconnect: Broken pipe
shishop@GRAVITON:~/Desktop/Neptune_Nest|â‡’  ssh -i ~/"key.pem" ec2-user@ec2-52-39-172-151.us-west-2.compute.amazonaws.com

Last login: Thu Sep  2 12:44:22 2021 from 205.251.233.183

       __|  __|_  )
       _|  (     /   Amazon Linux 2 AMI
      ___|\___|___|

https://aws.amazon.com/amazon-linux-2/
[ec2-user@ip-11-0-1-38 ~]$ curl -X POST \
>     -H 'Content-Type: application/json' \
>     https://np-cluster-neptune-nest-instance-1.ch8cuxkb0m2v.us-west-2.neptune.amazonaws.com:8182/loader -d '
>     { 
>       "source" : "s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data/", 
>       "iamRoleArn" : "arn:aws:iam::457403320578:role/Neptune-Nest-role",
>       "format" : "csv", 
>       "region" : "us-west-2", 
>       "failOnError" : "TRUE"
>     }'




^C
[ec2-user@ip-11-0-1-38 ~]$ curl -X POST     -H 'Content-Type: application/json'     https://np-cluster-neptune-nest-instance-1.ch8cuxkb0m2v.us-west-2.neptune.amazonaws.com:8182/loader -d '
    { 
      "source" : "s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data/", 
      "iamRoleArn" : "arn:aws:iam::457403320578:role/Neptune-Nest-role",
      "format" : "csv", 
      "region" : "us-west-2", 
      "failOnError" : "TRUE"
    }'
{"detailedMessage":"Unable to connect to s3 endpoint. Provided source = s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data/ and region = us-west-2. Please verify your S3 configuration.","code":"InternalFailureException","requestId":"60bdd355-91f9-f126-7446-b687425524d6"}[ec2-user@ip-11-0-1-38 ~]$ curl -X POST     -H 'Content-Type: application/jsouxkb0m2v.us-west-2.neptune.amazonaws.com:8182/loader -d '
    { 
      "source" : "s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data/", 
      "iamRoleArn" : "arn:aws:iam::457403320578:role/Neptune-Nest-role",
      "format" : "csv", 
      "region" : "us-west-2", 
      "failOnError" : "TRUE"
    }'
{"detailedMessage":"Unable to connect to s3 endpoint. Provided source = s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data/ and region = us-west-2. Please verify your S3 configuration.","code":"InternalFailureException","requestId":"4abdd358-40bb-80dd-b815-1d7a400b47c4"}[ec2-user@ip-11-0-1-38 ~]$ aws s3 ls s3://projects0404-us-west-2/Neptune/amaza/-neptune-samples/gremlin/collaborative-filtering/dat 
2021-09-02 11:38:57        970 edges.txt
2021-09-02 11:38:58       1160 vertex.txt
[ec2-user@ip-11-0-1-38 ~]$ curl -X POST     -H 'Content-Type: application/json'     https://np-cluster-neptune-nest-instance-1.ch8cuxkb0m2v.us-west-2.neptune.amazonaws.com:8182/loader -d '
    { 
      "source" : "s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data/", 
      "iamRoleArn" : "arn:aws:iam::457403320578:role/Neptune-Nest-role",
      "format" : "csv", 
      "region" : "us-west-2", 
      "failOnError" : "TRUE"
    }'
{"detailedMessage":"Unable to connect to s3 endpoint. Provided source = s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data/ and region = us-west-2. Please verify your S3 configuration.","code":"InternalFailureException","requestId":"68bdd35a-b023-21dc-eb73-232ba642993f"}[ec2-user@ip-11-0-1-38 ~]$ curl -X POST \
>     -H 'Content-Type: application/json' \
>     https://np-cluster-neptune-nest-instance-1.ch8cuxkb0m2v.us-west-2.neptune.amazonaws.com:8182/loader -d '
>     { 
>       "source" : "s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data", 
>       "iamRoleArn" : "arn:aws:iam::457403320578:role/Neptune-Nest-role",
>       "format" : "csv", 
>       "region" : "us-west-2", 
>       "failOnError" : "TRUE"
>     }'
{"detailedMessage":"Unable to connect to s3 endpoint. Provided source = s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data and region = us-west-2. Please verify your S3 configuration.","code":"InternalFailureException","requestId":"00bdd35b-e28d-fffe-6bed-6d21d8131d5a"}[ec2-user@ip-11-0-1-38 ~]$ curl -X POST     -H 'Contentd 'pe: application/json'     https://np-cluster-neptune-nest-instance-1.ch8cuxkb0m2v.us-west-2.neptune.amazonaws.com:8182/loader -d
    { 
      "source" : "s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data", 
      "iamRoleArn" : "arn:aws:iam::457403320578:role/Neptune-Nest-role",
      "format" : "csv", 
      "region" : "us-west-2", 
      "failOnError" : "TRUE"
    }'
{
    "status" : "200 OK",
    "payload" : {
        "loadId" : "9c273526-378a-484c-882c-fa989353f13d"
    }
}[ec2-user@ip-11-0-1-38 ~]$ curl https://np-cluster-neptune-nest-instance-1.ch8cuxkb0m2v.us-west-2.neptune.amazonaws.com:8182/status
{"status":"healthy","startTime":"Thu Sep 02 06:40:45 UTC 2021","dbEngineVersion":"1.0.5.0.R2","role":"writer","gremlin":{"version":"tinkerpop-3.4.11"},"sparql":{"version":"sparql-1.1"},"labMode":{"ObjectIndex":"disabled","DFEQueryEngine":"viaQueryHint","ReadWriteConflictDetection":"enabled"},"features":{"ResultCache":{"status":"disabled"},"IAMAuthentication":"disabled","Streams":"disabled","AuditLog":"disabled"},"settings":{"clusterQueryTimeoutInMs":"120000"}}[ec2-user@ip-11-0-1-38 ~]$ curl https://np-cluster-neptune-nest-instance-1.ch8cuxkb0m2v.us-west-2.neptune.amazonaws.com:8182/loader/9c273526-378a-484c-882c-fa989353f13d
{
    "status" : "200 OK",
    "payload" : {
        "feedCount" : [
            {
                "LOAD_COMPLETED" : 2
            }
        ],
        "overallStatus" : {
            "fullUri" : "s3://projects0404-us-west-2/Neptune/amazon-neptune-samples/gremlin/collaborative-filtering/data",
            "runNumber" : 1,
            "retryNumber" : 0,
            "status" : "LOAD_COMPLETED",
            "totalTimeSpent" : 3,
            "startTime" : 1630589904,
            "totalRecords" : 151,
            "totalDuplicates" : 0,
            "parsingErrors" : 0,
            "datatypeMismatchErrors" : 0,
            "insertErrors" : 0
        }
    }
}